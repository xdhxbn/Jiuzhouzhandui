#MOVE模块思路与功能
=========================
##功能描述
========================
  该模块用于实现通过PS2控制小车的方向，旋转以及运动速度。虽然理论上可以实现走任意角度斜线的功能，但是苦于定时器资源不够只能舍弃一部分功能，但是转向，上下左右平移，调控速度都没问题。

##开发历程
=========================
  ### 初期方案：
    依照预定的框架，由小及大定义结构体，先定义了单个轮子的结构体，并写了控制轮子正转，反转和停止的函数，由于定时器有限就四个轮子统一一个速度，并将四个轮子结构体和方向参数，旋转参数和速度参数一起封装成了运动系统结构体，编写对应的初始化函数，读取PS2函数与调整外设函数，实现PS2传递信息给运动系统，运动系统控制轮子的分级控制结构，虽然这个过程显得有点拐来拐去的，但是便于之后修改代码和实现小车的迭代升级，比如万一要改引脚的话就改一下结构体初始化函数就好了，而且整个过程的思路会清楚一些。<br>
  ### 遇到的问题之一：<br>
  =============
    主要是如何控制小车的速度与运动方式的问题，这样可以让我们的小车更灵活。<br>
  ### 解决方案：<br>
  ===========
    我们想让小车可以调整一下速度的快慢，一个方案是通过上下左右的按键控制，按一下对应的方向键就向对应的方向加速，但是感觉太笨重了，于是想这研究一下摇杆，在搞清楚摇杆数据的原理之后，就开始着手制定控制的规则，原本想设计一个根据可以按照x与y的比例走任意方向的方案，但是由于外设不足只好放弃。经过讨论，左摇杆x方向的位移大小和y方向的位移大小谁大，就认为小车是在沿哪个轴运动，并且依据该方向上的位移，以一定比例放大，来调整PWM的占空比，从而调整速度。用右摇杆控制旋转方向，当x方向无位移时认为不旋转，右摇杆向右偏就是以顺时针转反之逆时针，速度由x方向偏移大小决定，且旋转命令的优先级大于平动命令<br>
  ### 遇到的问题之二：<br>
  =================
    原本想直接通过运动结构体来调整运动，但是想到如果保持相同运动状态的话每次都要设置相同的参数太浪费软件资源了。<br>
  ### 解决方案：<br>
  ==============
    在程序中设置了两个运动结构体，分别为car_now,car_last，最开始二者相同，随后开始将需要的PS2数据存入now中，之后进入调整运动的函数时，比较now与last中的数据是否一致，相同的话就不改，不同再改，且设计了运动状态时间的过渡状态，比如说，发现last表明之前小车再转动，会先停止转动，再重新配置，又比如如果last是向前转，now是反转，就先让电机停下来，再设置方向速度，避免在电机快速旋转时突然改变极性可能的对电机和电路的损伤，之后再把now中的数据转移到last来。<br>
  ### 下一步迭代优化方案：<br>
  ===================
    会在测试中研究如何让运动过渡更平稳，起步更快，刹车更及时灵敏等。<br>


